package palindrome;

public class Main {
	static final int noOfdigits = 3;
	static final int highestNumber = (int) Math.pow(10, noOfdigits) - 1; // 999
	static final int lowestNumber = (int) Math.pow(10, noOfdigits - 1); // 100
	
	private static boolean isPalindrome(int n) {
		if (n < 0) throw new IllegalArgumentException("Argument must be positive");
		int temp = n;
		int val = 0;
		while (temp > 0) {
			val = (val * 10) + (temp % 10);
			temp = temp / 10;
		}
		return val == n;
	}
	private static int highestFactor(int n) {
		if (n < 0) throw new IllegalArgumentException("Argument must be positive");
		for (int i = (int) Math.sqrt(n); i > lowestNumber; i--) {
			if (n % i == 0)
				return i;
		}
		return 0;
	}
	public static void main(String[] args) {
		
		int max = highestNumber * highestNumber;
		int result = 0;
		for (int i = max; i > lowestNumber * lowestNumber; i--) {
			if (isPalindrome(i)) {
				int factor1 = highestFactor(i);
				if (factor1 == 0) continue;
				int factor2 = i / factor1;
				if (factor2 > lowestNumber && factor2 < highestNumber) {
					System.out.println(factor1 +", "+ factor2);
					result = i;
					break;
				}
			}
		}
		System.out.println(result);
	}
}
